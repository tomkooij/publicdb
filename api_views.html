<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5.1. API Views Reference &mdash; Public Database 0.3 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/hisparc_style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Public Database 0.3 documentation" href="index.html" />
    <link rel="up" title="5. API Reference" href="api.html" />
    <link rel="next" title="6. Status Display Reference" href="status_display.html" />
    <link rel="prev" title="5. API Reference" href="api.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="status_display.html" title="6. Status Display Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api.html" title="5. API Reference"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Public Database 0.3 documentation</a> &raquo;</li>
          <li><a href="api.html" accesskey="U">5. API Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-django_publicdb.api.views">
<span id="api-views-reference"></span><h1>5.1. API Views Reference<a class="headerlink" href="#module-django_publicdb.api.views" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="django_publicdb.api.views.Nagios">
<em class="property">class </em><tt class="descname">Nagios</tt><a class="headerlink" href="#django_publicdb.api.views.Nagios" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="django_publicdb.api.views.Nagios.critical">
<tt class="descname">critical</tt><em class="property"> = (2, 'CRITICAL')</em><a class="headerlink" href="#django_publicdb.api.views.Nagios.critical" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="django_publicdb.api.views.Nagios.ok">
<tt class="descname">ok</tt><em class="property"> = (0, 'OK')</em><a class="headerlink" href="#django_publicdb.api.views.Nagios.ok" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="django_publicdb.api.views.Nagios.unknown">
<tt class="descname">unknown</tt><em class="property"> = (3, 'UNKNOWN')</em><a class="headerlink" href="#django_publicdb.api.views.Nagios.unknown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="django_publicdb.api.views.Nagios.warning">
<tt class="descname">warning</tt><em class="property"> = (1, 'WARNING')</em><a class="headerlink" href="#django_publicdb.api.views.Nagios.warning" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.clusters">
<tt class="descname">clusters</tt><big>(</big><em>request</em>, <em>country_number=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cluster list</p>
<p>Retrieve a list of all clusters or only the clusters in a specific country.
By cluster we here mean the main clusters, which contain subclusters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>country_number</strong> &#8211; a country number identifier, give this to only get
clusters from a specific country.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of dictionaries containing the name and number of all
clusters that matched the given parameters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.config">
<tt class="descname">config</tt><big>(</big><em>request</em>, <em>station_number</em>, <em>year=None</em>, <em>month=None</em>, <em>day=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get station config settings</p>
<p>Retrieve the entire configuration of a station. If no date if given the
latest config will be sent, otherwise the latest on or before the given
date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>station_number</strong> &#8211; a station number identifier.</li>
<li><strong>year</strong> &#8211; the year part of the date.</li>
<li><strong>month</strong> &#8211; the month part of the date.</li>
<li><strong>day</strong> &#8211; the day part of the date.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dictionary containing the entire configuration from
the HiSPARC DAQ.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.countries">
<tt class="descname">countries</tt><big>(</big><em>request</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.countries" title="Permalink to this definition">¶</a></dt>
<dd><p>Get country list</p>
<p>Retrieve a list of all countries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of dictionaries containing the name and number of
all countries.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.get_cluster_dict">
<tt class="descname">get_cluster_dict</tt><big>(</big><em>country=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.get_cluster_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.get_country_dict">
<tt class="descname">get_country_dict</tt><big>(</big><big>)</big><a class="headerlink" href="#django_publicdb.api.views.get_country_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.get_event_traces">
<tt class="descname">get_event_traces</tt><big>(</big><em>request</em>, <em>station_number</em>, <em>ext_timestamp</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.get_event_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the traces for an event</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>station_number</strong> &#8211; a station number identifier.</li>
<li><strong>ext_timestamp</strong> &#8211; extended timestamp (nanoseconds since UNIX epoch).</li>
<li><strong>raw</strong> &#8211; (optional, GET) if present get the raw trace, i.e. without
subtracted baseline.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">two or four traces.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.get_pulseheight_drift">
<tt class="descname">get_pulseheight_drift</tt><big>(</big><em>request</em>, <em>station_number</em>, <em>plate_number</em>, <em>year</em>, <em>month</em>, <em>day</em>, <em>number_of_days</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.get_pulseheight_drift" title="Permalink to this definition">¶</a></dt>
<dd><p>Get pulseheight drift</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>station_number</strong> &#8211; station number</li>
<li><strong>plate_number</strong> &#8211; detector number, either 1, 2, 3 or 4.</li>
<li><strong>month, day</strong> (<em>year,</em>) &#8211; date for which to check</li>
<li><strong>number_of_days</strong> &#8211; number of days over which to determine drift</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.get_pulseheight_drift_last_14_days">
<tt class="descname">get_pulseheight_drift_last_14_days</tt><big>(</big><em>request</em>, <em>station_number</em>, <em>plate_number</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.get_pulseheight_drift_last_14_days" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.get_pulseheight_drift_last_30_days">
<tt class="descname">get_pulseheight_drift_last_30_days</tt><big>(</big><em>request</em>, <em>station_number</em>, <em>plate_number</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.get_pulseheight_drift_last_30_days" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.get_pulseheight_fit">
<tt class="descname">get_pulseheight_fit</tt><big>(</big><em>request</em>, <em>station_number</em>, <em>plate_number</em>, <em>year=None</em>, <em>month=None</em>, <em>day=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.get_pulseheight_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Get fit values of the pulseheight distribution for a station on a date</p>
<p>Retrieve fit values of the pulseheight distribution. The fitting has
to be done before and stored somewhere. This function retrieves the
fit values from storage and returns to the client. Returns an error
meesage if the values are not found on storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>station_number</strong> &#8211; a station number identifier.</li>
<li><strong>plate_number</strong> &#8211; plate number in the range 1..4</li>
<li><strong>year</strong> &#8211; the year part of the date.</li>
<li><strong>month</strong> &#8211; the month part of the date.</li>
<li><strong>day</strong> &#8211; the day part of the date.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dictionary containing fit results of the specified station, plate
and date</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.get_station_dict">
<tt class="descname">get_station_dict</tt><big>(</big><em>subcluster=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.get_station_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of station numbers and names</p>
<p>For all non-test stations in the given subcluster</p>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.get_subcluster_dict">
<tt class="descname">get_subcluster_dict</tt><big>(</big><em>cluster=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.get_subcluster_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.has_data">
<tt class="descname">has_data</tt><big>(</big><em>request</em>, <em>station_number</em>, <em>type=None</em>, <em>year=None</em>, <em>month=None</em>, <em>day=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.has_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for presence of cosmic ray data</p>
<p>Find out if the given station has measured shower data, either on a
specific date, or at all.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>station_number</strong> &#8211; a stationn number identifier.</li>
<li><strong>type</strong> &#8211; the data type, either events or weather.</li>
<li><strong>month, day</strong> (<em>year,</em>) &#8211; the date, this has to be within the time
HiSPARC has been operational and can be as specific as
you desire.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean, True if the given station has data, False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.json_dict">
<tt class="descname">json_dict</tt><big>(</big><em>dict</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.json_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a json HTTPResponse</p>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.man">
<tt class="descname">man</tt><big>(</big><em>request</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.man" title="Permalink to this definition">¶</a></dt>
<dd><p>Give overview of the possible urls</p>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.num_events">
<tt class="descname">num_events</tt><big>(</big><em>request</em>, <em>station_number</em>, <em>year=None</em>, <em>month=None</em>, <em>day=None</em>, <em>hour=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.num_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of events for a station</p>
<p>Retrieve the number of events that a station has measured during its
entire operation or during a specific period, which can be a year,
month, day or an hour.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>station_number</strong> &#8211; a stationn number identifier.</li>
<li><strong>month, day, hour</strong> (<em>year,</em>) &#8211; the date, this has to be within the
time HiSPARC has been operational and can be as specific as
you desire.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">integer containing the total number of events ever recorded by
the given station.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.station">
<tt class="descname">station</tt><big>(</big><em>request</em>, <em>station_number</em>, <em>year=None</em>, <em>month=None</em>, <em>day=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.station" title="Permalink to this definition">¶</a></dt>
<dd><p>Get station info</p>
<p>Retrieve important information about a station. If no date if given
the latest valid info will be sent, otherwise the latest on or
before the given date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>station_number</strong> &#8211; a station number identifier.</li>
<li><strong>year</strong> &#8211; the year part of the date.</li>
<li><strong>month</strong> &#8211; the month part of the date.</li>
<li><strong>day</strong> &#8211; the day part of the date.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dictionary containing info about the station. Most importantly,
this contains information about the position of the station,
including the position of the individual scintillators.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.stations">
<tt class="descname">stations</tt><big>(</big><em>request</em>, <em>subcluster_number=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get station list</p>
<p>Retrieve a list of all stations or all stations in a subcluster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>subcluster_number</strong> &#8211; a subcluster number identifier. If given, only
stations belonging to that subcluster will be included in the list.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list containing dictionaries which consist of the name and number
of each station (matching the subcluster).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.stations_with_data">
<tt class="descname">stations_with_data</tt><big>(</big><em>request</em>, <em>type=None</em>, <em>year=None</em>, <em>month=None</em>, <em>day=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.stations_with_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get stations with event or weather data</p>
<p>Retrieve a list of all stations which have recorded events or
weather data in the given year, month, day or at all.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>type</strong> &#8211; data type to check for, either weather or events.</li>
<li><strong>month, day</strong> (<em>year,</em>) &#8211; the date, this has to be within the time
HiSPARC has been operational and can be as
specific as you desire.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of dictionaries containing the name and number of each
station that has measured weather data in the given year.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.subclusters">
<tt class="descname">subclusters</tt><big>(</big><em>request</em>, <em>cluster_number=None</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.subclusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Get subcluster list</p>
<p>Retrieve a list of all subclusters or all subclusters in a specific
cluster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cluster_number</strong> &#8211; a cluster number identifier, give this to only get
subclusters from this cluster.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of dictionaries containing the name and number of all
subclusters that matched the given parameters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="django_publicdb.api.views.validate_date">
<tt class="descname">validate_date</tt><big>(</big><em>date</em><big>)</big><a class="headerlink" href="#django_publicdb.api.views.validate_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if date is outside HiSPARC project range</p>
<p>If not valid, a 404 (Not Found) should be returned to the user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean, True if the date is in the range, False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Contents:</p>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/header.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="api.html"
                        title="previous chapter">5. API Reference</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="status_display.html"
                        title="next chapter">6. Status Display Reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api_views.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="status_display.html" title="6. Status Display Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="api.html" title="5. API Reference"
             >previous</a> |</li>
        <li><a href="index.html">Public Database 0.3 documentation</a> &raquo;</li>
          <li><a href="api.html" >5. API Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, HiSPARC.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>